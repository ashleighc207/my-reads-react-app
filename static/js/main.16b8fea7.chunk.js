(this.webpackJsonpundefined=this.webpackJsonpundefined||[]).push([[0],{21:function(e,a,t){e.exports=t(36)},26:function(e,a,t){},35:function(e,a,t){},36:function(e,a,t){"use strict";t.r(a);var n=t(0),o=t.n(n),r=t(19),l=t.n(r),c=t(6),s=t(8),i=t(9),m=t(11),u=t(10),d=t(13),h="https://reactnd-books-api.udacity.com",b=localStorage.token;b||(b=localStorage.token=Math.random().toString(36).substr(-8));var v={Accept:"application/json",Authorization:b},k=function(){return fetch("".concat(h,"/books"),{headers:v}).then((function(e){return e.json()})).then((function(e){return e.books}))},p=function(e,a){return fetch("".concat(h,"/books/").concat(e.id),{method:"PUT",headers:Object(d.a)(Object(d.a)({},v),{},{"Content-Type":"application/json"}),body:JSON.stringify({shelf:a})}).then((function(e){return e.json()}))},f=function(e){return fetch("".concat(h,"/search"),{method:"POST",headers:Object(d.a)(Object(d.a)({},v),{},{"Content-Type":"application/json"}),body:JSON.stringify({query:e})}).then((function(e){return e.json()})).then((function(e){return e.books}))},E=(t(26),function(e){Object(m.a)(t,e);var a=Object(u.a)(t);function t(){return Object(s.a)(this,t),a.apply(this,arguments)}return Object(i.a)(t,[{key:"render",value:function(){var e,a,t,n=this,r=this.props,l=r.myBooks;r.handleChange;return a=l.filter((function(e){return"currentlyReading"==e.shelf})),e=l.filter((function(e){return"wantToRead"==e.shelf})),t=l.filter((function(e){return"read"==e.shelf})),o.a.createElement("div",{className:"list-books"},o.a.createElement("div",{className:"list-books-title"},o.a.createElement("h1",null,"MyReads")),o.a.createElement("div",{className:"list-books-content"},o.a.createElement("div",null,o.a.createElement("div",{className:"bookshelf"},o.a.createElement("h2",{className:"bookshelf-title"},"Currently Reading"),o.a.createElement("div",{className:"bookshelf-books"},o.a.createElement("ol",{className:"books-grid"},a.map((function(e){return o.a.createElement("li",{key:e.id,className:"books-grid"},o.a.createElement("div",{className:"book"},o.a.createElement("div",{className:"book-top"},o.a.createElement("div",{className:"book-cover",style:{width:128,height:193,backgroundImage:"url("+"".concat(e.imageLinks.thumbnail)+")"}}),o.a.createElement("div",{className:"book-shelf-changer"},o.a.createElement("select",{value:e.shelf,onChange:function(a){return n.props.handleChange(e,a)}},o.a.createElement("option",{value:"move",disabled:!0},"Move to..."),o.a.createElement("option",{value:"currentlyReading"},"Currently Reading"),o.a.createElement("option",{value:"wantToRead"},"Want to Read"),o.a.createElement("option",{value:"read"},"Read"),o.a.createElement("option",{value:"none"},"None")))),o.a.createElement("div",{className:"book-title"},e.title),o.a.createElement("div",{className:"book-authors"},e.authors)))}))))),o.a.createElement("div",{className:"bookshelf"},o.a.createElement("h2",{className:"bookshelf-title"},"Want to Read"),o.a.createElement("div",{className:"bookshelf-books"},o.a.createElement("ol",{className:"books-grid"},e.map((function(e){return o.a.createElement("li",{key:e.id,className:"books-grid"},o.a.createElement("div",{className:"book"},o.a.createElement("div",{className:"book-top"},o.a.createElement("div",{className:"book-cover",style:{width:128,height:193,backgroundImage:"url("+"".concat(e.imageLinks.thumbnail)+")"}}),o.a.createElement("div",{className:"book-shelf-changer"},o.a.createElement("select",{value:e.shelf,onChange:function(a){return n.props.handleChange(e,a)}},o.a.createElement("option",{value:"move",disabled:!0},"Move to..."),o.a.createElement("option",{value:"currentlyReading"},"Currently Reading"),o.a.createElement("option",{value:"wantToRead"},"Want to Read"),o.a.createElement("option",{value:"read"},"Read"),o.a.createElement("option",{value:"none"},"None")))),o.a.createElement("div",{className:"book-title"},e.title),o.a.createElement("div",{className:"book-authors"},e.authors)))}))))),o.a.createElement("div",{className:"bookshelf"},o.a.createElement("h2",{className:"bookshelf-title"},"Read"),o.a.createElement("div",{className:"bookshelf-books"},o.a.createElement("ol",{className:"books-grid"},t.map((function(e){return o.a.createElement("li",{key:e.id,className:"books-grid"},o.a.createElement("div",{className:"book"},o.a.createElement("div",{className:"book-top"},o.a.createElement("div",{className:"book-cover",style:{width:128,height:193,backgroundImage:"url("+"".concat(e.imageLinks.thumbnail)+")"}}),o.a.createElement("div",{className:"book-shelf-changer"},o.a.createElement("select",{value:e.shelf,onChange:function(a){return n.props.handleChange(e,a)}},o.a.createElement("option",{value:"move",disabled:!0},"Move to..."),o.a.createElement("option",{value:"currentlyReading"},"Currently Reading"),o.a.createElement("option",{value:"wantToRead"},"Want to Read"),o.a.createElement("option",{value:"read"},"Read"),o.a.createElement("option",{value:"none"},"None")))),o.a.createElement("div",{className:"book-title"},e.title),o.a.createElement("div",{className:"book-authors"},e.authors)))}))))))),o.a.createElement("div",{className:"open-search"},o.a.createElement(c.b,{to:"/search"},"Add a book")))}}]),t}(n.Component)),g=(t(32),t(33),function(e){Object(m.a)(t,e);var a=Object(u.a)(t);function t(){var e;Object(s.a)(this,t);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(e=a.call.apply(a,[this].concat(o))).state={query:"",results:[],error:!1},e.search=function(a){var t=a.target.value;e.setState({query:t}),t?f(t).then((function(a){a.length>0?e.updateBooks(a):e.setState({error:!0})})):e.setState({results:[],error:!1})},e}return Object(i.a)(t,[{key:"updateBooks",value:function(e){var a=this,t=e.map((function(e){return e.shelf="none",a.props.myBooks.forEach((function(a){e.id===a.id&&(e.shelf=a.shelf)})),e.imageLinks||(e.imageLinks={thumbnail:"https://cohenwoodworking.com/wp-content/uploads/2016/09/300x500.gif"}),e}));this.setState({results:t})}},{key:"render",value:function(){var e=this,a=this.props,t=(a.myBooks,a.handleChange,this.state),n=t.query,r=t.results,l=t.error;return o.a.createElement("div",{className:"search-books"},o.a.createElement("div",{className:"search-books-bar"},o.a.createElement(c.b,{to:"/",className:"close-search"},"Close"),o.a.createElement("div",{className:"search-books-input-wrapper"},o.a.createElement("input",{type:"text",placeholder:"Search by title or author",value:this.state.query,onChange:function(a){return e.search(a)}}))),o.a.createElement("div",{className:"search-books-results"},o.a.createElement("ol",{className:"books-grid"},!n&&o.a.createElement("li",null,"To search for a new book, type in your keyword"),!l&&r.map((function(a){return o.a.createElement("li",{key:a.id,className:"books-grid"},o.a.createElement("div",{className:"book"},o.a.createElement("div",{className:"book-top"},o.a.createElement("div",{className:"book-cover",style:{width:128,height:193,backgroundImage:"url("+"".concat(a.imageLinks.thumbnail)+")"}}),o.a.createElement("div",{className:"book-shelf-changer"},o.a.createElement("select",{value:a.shelf,onChange:function(t){return e.props.handleChange(a,t)}},o.a.createElement("option",{value:"move",disabled:!0},"Move to..."),o.a.createElement("option",{value:"currentlyReading"},"Currently Reading"),o.a.createElement("option",{value:"wantToRead"},"Want to Read"),o.a.createElement("option",{value:"read"},"Read"),o.a.createElement("option",{value:"none"},"None")))),o.a.createElement("div",{className:"book-title"},a.title),o.a.createElement("div",{className:"book-authors"},a.authors)))})),l&&o.a.createElement("li",null,"Sorry, no results found. Please try a different search term"))))}}]),t}(n.Component)),N=t(1),y=function(e){Object(m.a)(t,e);var a=Object(u.a)(t);function t(){var e;Object(s.a)(this,t);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(e=a.call.apply(a,[this].concat(o))).state={books:[]},e.handleChange=function(a,t){console.log(e.state);var n=t.target.value;p(a,n).then((function(t){a.shelf=n,e.updateBooks()}))},e}return Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this;k().then((function(a){e.setState({books:a})}))}},{key:"updateBooks",value:function(){var e=this;k().then((function(a){e.setState({books:a})}))}},{key:"render",value:function(){var e=this;return o.a.createElement("div",{className:"app"},o.a.createElement(N.a,{exact:!0,path:"/",render:function(){return o.a.createElement(E,{myBooks:e.state.books,handleChange:e.handleChange})}}),o.a.createElement(N.a,{exact:!0,path:"/search",render:function(){return o.a.createElement(g,{myBooks:e.state.books,handleChange:e.handleChange})}}))}}]),t}(n.Component);t(35);l.a.render(o.a.createElement(c.a,{basename:"/my-reads-react-app"},o.a.createElement(y,null)),document.getElementById("root"))}},[[21,1,2]]]);
//# sourceMappingURL=main.16b8fea7.chunk.js.map